<wicket:extend>
	<wicket:head>
		<script type="text/javascript">
			
			function addOrUpdateTableRow(rowId, cellsData) {
				var row = document.getElementById(rowId);
				
				if (row) {
					updateTableRow(rowId, cellsData);
					return;
				}
				
				addTableRow(rowId, cellsData);
			}
		
			function addTableRow(rowId, cellsData) {
				var table = document.getElementById('listServices');
				var rowCount = table.rows.length;
				var row = table.insertRow(rowCount);
				
				row.id = rowId;
				
				for (var key in cellsData) {
					var cell = row.insertCell(row.cells.length);
					cell.innerHTML = cellsData[key];
				}
			}
			
			function updateTableRow(rowId, cellsData) {
				var row = document.getElementById(rowId);
				var rowCells = row.cells;
				
				rowCells.foreach(function (cell) {
					var key = cell.headers;
					cell.innerHTML = cellsData[key];
				});
			}
		</script>
	</wicket:head>
	
	<h2>List of registered applications</h2>

	<div class="row">
		<div class="col-lg-12">
			<div class="card">

				<div class="card-body">
					<table id="listServices"
						class="table table-responsive-sm table-bordered table-striped table-sm">
						<thead>
							<tr>
								<th id="name">Service</th>
								<th id="application">Application</th>
								<th id="providerCount">Providers</th>
								<th id="consumerCount">Consumers</th>
							</tr>
						</thead>
						<tbody wicket:id="listContainer">
							<tr wicket:id="rows">
								<td wicket:id="name" headers="name"></td>
								<td wicket:id="application" headers="application"></td>
								<td wicket:id="providerCount" headers="providerCount"></td>
								<td wicket:id="consumerCount" headers="consumerCount"></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>

	</div>
</wicket:extend>