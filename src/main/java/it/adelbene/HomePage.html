<wicket:extend>
	<wicket:head>
		<script type="text/javascript">
			
			function addOrUpdateTableRow(rowId, cellsData) {
				var row = document.getElementById(rowId);
				
				if (row) {
					updateTableRow(rowId, cellsData[2], cellsData[3]);
					return;
				}
				
				addTableRow(rowId, cellsData);
			}
		
			function addTableRow(rowId, cellsData) {
				var table = document.getElementById('listServices');
				var rowCount = table.rows.length;
				var row = table.insertRow(rowCount);
				
				row.id = rowId;
				
				cellsData.forEach(function(element) {
					var cell = row.insertCell(row.cells.length);
					cell.innerHTML = element;
				});
			}
			
			function updateTableRow(rowId, providers, consumers) {
				var row = document.getElementById(rowId);
				var cell = row.cells[2];
				cell.innerHTML = providers;
				
				var cell = row.cells[3];
				cell.innerHTML = consumers;
			}
		</script>
	</wicket:head>
	
	<h2>List of registered applications</h2>

	<div class="row">
		<div class="col-lg-12">
			<div class="card">

				<div class="card-body">
					<table id="listServices"
						class="table table-responsive-sm table-bordered table-striped table-sm">
						<thead>
							<tr>
								<th>Service</th>
								<th>Application</th>
								<th>Providers</th>
								<th>Consumers</th>
							</tr>
						</thead>
						<tbody wicket:id="listContainer">
							<tr wicket:id="rows">
								<td wicket:id="name"></td>
								<td wicket:id="application"></td>
								<td wicket:id="providerCount"></td>
								<td wicket:id="consumerCount"></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>

	</div>
</wicket:extend>